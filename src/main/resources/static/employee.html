<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Page</title>
    <link rel="stylesheet" href="employeeS.css">
</head>

<body>
    <nav>
        <ul>
            <li><a href="homepage.html">About</a></li>
            <li><a href="#services">Services</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>
    <form id="addEmployeeForm">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>
        <label for="address">Address:</label>
        <input type="text" id="address" name="address" required><br><br>
        <label for="eID">SSN/SIN:</label>
        <input type="text" id="eID" name="eID" required><br><br>
        <button type="submit">Add Employee</button>
    </form>

    <h2>Employee List</h2>
    <ul id="employeeList"></ul>
    <footer>
        <p>&copy; 2024 HotelAppInc. All rights reserved.</p>
    </footer>
    <script>
        function getEmployeeListFromStorage() {
            const storedEmployees = localStorage.getItem("employees");
            return storedEmployees ? JSON.parse(storedEmployees) : [];
        }

        function saveEmployeeListToStorage(employees) {
            localStorage.setItem("employees", JSON.stringify(employees)); 
        }

        let employees = getEmployeeListFromStorage(); 
        function displayEmployees() {
            const employeeList = document.getElementById("employeeList");
            employeeList.innerHTML = "";
            employees.forEach((employee, index) => {
                const li = document.createElement("li");
                li.textContent = `Name: ${employee.name}, Address: ${employee.address}, ID: ${employee.eID}`;
                const editButton = document.createElement("button");
                editButton.textContent = "Edit";
                editButton.addEventListener("click", () => editEmployee(index));
                const deleteButton = document.createElement("button");
                deleteButton.textContent = "Delete";
                deleteButton.addEventListener("click", () => deleteEmployee(index));
                li.appendChild(editButton);
                li.appendChild(deleteButton);
                employeeList.appendChild(li);
            });
        }
        function addEmployee(event) {
            event.preventDefault();
            const form = event.target;
            const name = form.elements.name.value;
            const address = form.elements.address.value;
            const eID = form.elements.eID.value;
            employees.push({ name, address, eID });
            saveEmployeeListToStorage(employees);
            displayEmployees();
            form.reset();
        }

        function editEmployee(index) {
            const newName = prompt("Enter new name:");
            if (newName !== null && newName !== "") {
                employees[index].name = newName;
                saveEmployeeListToStorage(employees);
                displayEmployees();
            }
            
            const neweID = prompt("Enter new ID:");
            if (neweID !== null && neweID !== "") {
                employees[index].eID = neweID;
                saveEmployeeListToStorage(employees);
                displayEmployees();
            }
            const newaddress = prompt("Enter new address:");
            if (newaddress !== null && newaddress !== "") {
                employees[index].address = newaddress;
                saveEmployeeListToStorage(employees);
                displayEmployees();
            }
        }
        function deleteEmployee(index) {
            if (confirm("Are you sure you want to delete this Employee?")) {
                employees.splice(index, 1);
                saveEmployeeListToStorage(employees);
                displayEmployees();
            }
        }
        document.getElementById("addEmployeeForm").addEventListener("submit", addEmployee);
        displayEmployees();
    </script>
</body>

</html>
